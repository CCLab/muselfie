<Page shownModally="onShownModally" xmlns="http://schemas.nativescript.org/tns.xsd"
      xmlns:lv="nativescript-ui-listview" xmlns:fresco="nativescript-fresco">
       <StackLayout>
            <FlexboxLayout id="action-bar-fake" >
                <Label class="action-bar-step" tap="backTap"/>
                <Label class="action-bar-title" text="Pobierz obrazy"/>
            </FlexboxLayout>
        <GridLayout>
            <lv:RadListView id="gallery" items="{{ remoteBackgrounds }}">
                <lv:RadListView.listViewLayout>
                    <lv:ListViewGridLayout scrollDirection="Vertical" spanCount="2"/>
                </lv:RadListView.listViewLayout>
                <lv:RadListView.itemTemplate >
                    <GridLayout>
                        <fresco:FrescoDrawee height="{{ $parents['Page'].thumbnailHeight }}" imageUri="{{ image_url }}"
                            progressiveRenderingEnabled="true" progressBarColor="black" showProgressBar="true" tap="imageTap"/>
                        <Label class="{{ $parents['Page'].chosenRemoteBackground, $parents['Page'].chosenRemoteBackground == $value ? 'chosen-file' : '' }}"/>
                     </GridLayout>
                </lv:RadListView.itemTemplate>
            </lv:RadListView>
            <ActivityIndicator busy="{{ busy }}" width="64" height="64"/>
            <StackLayout verticalAlignment="bottom" visibility="{{ chosenRemoteBackground ? 'visible' : 'collapse' }}" isEnabled="{{ !busy }}">
                <FlexboxLayout class="navigation-buttons-container">
                    <StackLayout class="btn-next-wrapper" tap="downloadImage" orientation="horizontal">
                        <Label class="btn-next-text" text="pobierz tÅ‚o"/>
                        <Label class="btn-download"/>
                     </StackLayout>
                </FlexboxLayout>
            </StackLayout>  
         </GridLayout>
    </StackLayout>
</Page>
